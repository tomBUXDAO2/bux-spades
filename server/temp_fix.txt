    if (!hasHumanPlayers && !isLeague) {
      // Delete from database if game exists in DB
      if (game.dbGameId) {
        try {
          await prisma.gamePlayer.deleteMany({ where: { gameId: game.dbGameId } });
          await prisma.game.delete({ where: { id: game.dbGameId } });
          console.log(`[LEAVE GAME] Deleted game ${game.dbGameId} from database`);
        } catch (dbError) {
          console.error(`[LEAVE GAME] Failed to delete game from database:`, dbError);
        }
      }
      const index = games.findIndex(g => g.id === gameId);
      if (index !== -1) games.splice(index, 1);
    }
