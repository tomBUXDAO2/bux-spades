    // Optimized: Batch emit play and game updates
    const playUpdate = {
      currentPlayerIndex: game.play.currentTrick.length === 4 ? game.play.currentPlayerIndex : nextPlayerIndex,
      currentTrick: game.play.currentTrick,
      hands: game.hands.map((h, i) => ({
        playerId: game.players[i]?.id,
        handCount: h.length,
      })),
    };
    
    // Single batched emission instead of two separate ones
    io.to(game.id).emit('game_state_update', {
      playUpdate,
      gameState: enrichGameForClient(game)
    });
